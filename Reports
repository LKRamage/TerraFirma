--Report4
SELECT
    Flight_date,
    Flight_Num,
    AC_Serial,
    COUNT (cust_Num) AS Seats_Reserved,
    capacity - COUNT (cust_Num) AS Seats_Available
FROM
    Sched_Flight
    LEFT JOIN Reservation USING (Flight_Num, Flight_Date)
    LEFT JOIN Aircraft USING (AC_Serial)
    FULL JOIN Aircraft_Data USING (AC_Type)
GROUP BY
    Flight_Num, Flight_Date, AC_Serial, Capacity
ORDER BY
    Flight_Date, Flight_Num;

select * from Seats_Available;
--Report6
CREATE VIEW Report_6(Flight_Num, Flight_Date, Cust_num) AS
SELECT
    Flight_num,
    Flight_Date,
    cust_num
FROM
    reservation
ORDER BY
    Flight_Num, Flight_Date, cust_num;
CLEAR COLUMNS
CLEAR COMPUTE
CLEAR BREAK
TTITLE OFF
COLUMN Flight_Num HEADING 'Aircraft|Nbr'
COLUMN Flight_Date HEADING 'Flight|Date'
COLUMN cust_num HEADING 'Cust|Nbr'
SET LINESIZE 80
SET PAGESIZE 30
TTITLE 'TERRA FIRMA AIRLINES|FLIGHT RESERVATION SUMMARY'
SET FEEDBACK OFF
BREAK ON Flight_Num ON Flight_Date
SELECT * FROM Report_6;